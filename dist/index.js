var t,e=(t=require("event-emitter"))&&"object"==typeof t&&"default"in t?t.default:t;function i(){this.emitter=new e,this.actions=[]}i.prototype.addAction=function(t,e,i){this.actions[t]={ctx:i,fn:e}},i.prototype.addListener=function(){this.emitter.on.apply(this.emitter,arguments)},i.prototype.removeListener=function(){this.emitter.off.apply(this.emitter,arguments)},i.prototype.emit=function(){this.emitter.emit.apply(this.emitter,arguments)};var n={settings:{key:"",lang:"en",region:"US",center:{lat:40.7190658,lng:-73.9969894},zoom:15,styles:{},disableDefaultUI:!0,zoomControl:!0,gestureHandling:"cooperative",icon:function(t){return"//image.png"},iconSize:function(t,e){return 1.5*e}},elements:{map:".js-map",sidebar:".js-list",form:".js-form",pagination:".js-pagination",filter:".js-location-filter",redo:".js-redo",geolocation:".js-geo-trigger"},templates:{sidebar:function(t){return"<li>"+t.name+"</li>"},marker:function(t){return"<div>"+t.name+"</div>"}}};function o(){}function s(t,e,i,n){var o=t.lookup;void 0===e&&(e=[]),void 0===i&&(i={}),this.bus=n,this.lookup=o,this.createQueue(i,e)()}function r(t){this.settings=Object.assign({},n,t),this.bus=new i,this.map=new Map(this.settings,this.bus),this.on("request",this.triggerRequest)}s.prototype.createQueue=function(t,e){var i=this;return e.length?(e.push(function(){this.lookup(t,function(e){this.endQueue.bind(this,t,e)})}),e.reverse().reduce(function(e,n){return i.bus.actions[n].fn.bind(i.bus.actions[n].ctx,t,e)})):(this.lookup(t,function(e){this.endQueue.bind(this,t,e)}),o)},s.prototype.endQueue=function(t,e){this.bus.previousRequest=Object.assign({},t),this.bus.emit("request-complete",t,e)},r.prototype.triggerRequest=function(t,e){return new s(this.settings,t,e,this.bus)},r.prototype.on=function(){this.bus.addListener.apply(this.bus,arguments)},r.prototype.off=function(){this.bus.removeListener.apply(this.bus,arguments)},r.prototype.destroy=function(){},module.exports=r;
//# sourceMappingURL=index.js.map
